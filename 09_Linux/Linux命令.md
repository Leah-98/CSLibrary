# 命令格式

```
command -shortoption parameter
command --longoption parameter
```

比如：

```
$rm -r dir
rm --recursive dir
```

注意：使用短选项时可以将多个选项合并

# 文件操作

Linux的目录结构为树状结构，最顶级的目录为根目录/。

其他目录通过挂载可以将它们添加到树中，通过解除挂载可以移除它们。

绝对路径：由根目录/写起，例如 /usr/share/doc

相对路径：不是由/写起，例如由/usr/share/doc到/usr/share/man底下时，可以写成../man

## 路径操作

### cd 切换路径

切换到相对路径

```
cd ./xxx
```

切换到绝对路径

```
cd /xxx
```

切换到当前用户的家目录

```
cd ~
```

去到上一级目录

```shell
cd ..
```

### pwd 查看当前路径

-P 显示确实的路径，而非使用连结路径

### mkdir 创建路径 

-m 配置文件的权限，不需要管默认权限

![image-20230327141618075](E:\personal\CSLibrary\09_Linux\imgs\image-20230327141618075.png)

-p 帮助直接将所需要的目录（包含上一级目录）递归创建

![image-20230327141601131](E:\personal\CSLibrary\09_Linux\imgs\image-20230327141601131.png)

### rmdir 删除目录 

只能删除空的目录，rm可以删除非空目录

-p 连同上一级（空的）目录也一起删除

![image-20230327141741117](E:\personal\CSLibrary\09_Linux\imgs\image-20230327141741117.png)

## 文件操作

### ls 查看文件 

-a 查看包括隐藏文件在内的所有文件![image-20230323145108477](E:\personal\CSLibrary\09_Linux\imgs\image-20230323145108477.png)

-l 以详细信息列出文件，包括文件的属性与权限等，可指定文件名

![image-20230323145224018](E:\personal\CSLibrary\09_Linux\imgs\image-20230323145224018.png)

![image-20230323145300447](E:\personal\CSLibrary\09_Linux\imgs\image-20230323145300447.png)

-d 仅列出目录本身，而不是列出目录内的文件数据

### cat 由第一行开始显示文件内容

语法：

```shell
cat [-AbEnTv]
```

选项与参数：

-A 相当于-vET的整合选项，可列出一些特殊字符而不是空白而已

-b 列出行号，仅针对非空白行做行号显示，空白行不标行号

-E 将结尾的断行字节$显示出来

-n 列印出行号，连同空白行也会有行号，与-b选项不同

-T 将[tab]按键以^l显示出来

-v 列出一些看不出来的特殊字符

### tac 从最后一行开始显示

### nl 显示的时候顺便输出行号

语法：

```shell
nl [-bnw] 文件
```

选项与参数：

-b 指定行号的指定方式，主要有两种：

-b a 表示不论是否为空行，也同样列出行号

-b t 如果有空行，空的那一行不要列出行号（默认）

-n 列出行号表示的方法，主要有三种

-n ln 行号在荧幕的最左方显示

-n rn 行号在自己栏位的最右方显示，且不加0

-n rz 行号在自己栏位的最右方显示，且加0

-w 行号栏位的占用位数

### more 分页显示文件内容 

运行时可以输入的命令有：

f或Space 显示下一页

Enter 显示下一行

/字串 表示在这个显示的内容当中，向下搜寻’字串‘这个关键字

:f 立刻显示出档名以及目前显示的行数

q/Q 退出

b或[ctrl]-b 代表往回翻页，此动作只对文件有用，对管线无用

### less 与more相似，可以往前翻页

运行时可以输入的命令有：

Space 显示下一页

[pagedown] 向下翻动一页

[pageup] 向上翻动一页

/字串 向下搜寻’字串‘这个关键字

?字串 向上搜寻’字串‘这个关键字

n 重复前一个搜寻

N 反向的重复前一个搜寻

q/Q 退出

### head 查看文件的前n行 

语法：

```shell
head [-n number] 文件
```

选项参数

-n 后面接数字，表示几行的意思

![image-20230323174303049](E:\personal\CSLibrary\09_Linux\imgs\image-20230323174303049.png)

### tail 查看文件的后n行 

语法：

```shell
head [-n number] 文件
```

选项参数

-n 后面接数字，表示几行的意思

-f 表示池逊检测后面所接的档名，按下Ctrl+C才会结束对tail的检测

![image-20230323174446751](E:\personal\CSLibrary\09_Linux\imgs\image-20230323174446751.png)

### touch 创建新文件 

## 文件路径操作

### cp 复制文件/目录

语法：

```shell
cp [-adfilprsu] <source> <destination>
cp [options] source1 source2 source3 ... directory
```

选项与参数：

-a 相当于-pdr

-d 若来源档为连结档的属性，则复制连结档属性而非文件本身

-f 强制，若目标文件已经存在且无法开始，则移除后再尝试一次

-i 若目标档已经存在时，在覆盖时会先询问动作的进行

-l 进行硬式连结的连结档创建，而非复制文件本身

-p 连同文件的属性一起复制过去，而非使用默认属性（备份常用）

-r 递归复制目录下的文件和子目录

-s 复制成为符号连结档，亦即”捷径“文件

-u 若destination比source旧才升级destintaion

### mv 移动文件或目录 

语法：

```shell
cp [-adfilprsu] <source> <destination>
cp [options] source1 source2 source3 ... directory
```

选项与参数：

-f 忽略不存在的文件，不会出现警告信息

-r 递归删除目录中所有子文件和子目录，很危险

-i 在删除文件或目录时对要删除的内容逐一进行确认

### rm 删除目录中的文件或目录 

-f 忽略不存在的文件，不会出现警告信息

-r 递归删除目录中所有子文件和子目录，很危险

-i 在删除文件或目录时对要删除的内容逐一进行确认

## 文件搜索

### which 查看命令所在路径

![image-20230323175613953](E:\personal\CSLibrary\09_Linux\imgs\image-20230323175613953.png)

### find 接触搜索关键字查找文件或目录

find 搜索路径 [选项] 搜索关键字

-name 根据文件名查找

-size 根据文件大小查找

-user 根据文件所有者查找

### locate 借助搜索关键字查找文件或目录

locate [选项] 搜索关键字

locate速度远胜find

find搜索整个目录，locate搜索数据库 /var/lib/locatedb

即使文件存在，数据库中没有记录，locate便搜索不到

### grep 在文件中搜索与字符串匹配的行并输出

![image-20230323175911567](E:\personal\CSLibrary\09_Linux\imgs\image-20230323175911567.png)

# 权限与用户/用户组管理

Linux系统对不同的用户访问同一文件（包括目录文件）的权限做了不同的规定。

## 权限管理

权限分类

| 权限     | 对应字符 | 文件           | 目录                       |
| -------- | -------- | -------------- | -------------------------- |
| 读权限   | r        | 可查看文件内容 | 可以列出目录中的内容       |
| 写权限   | w        | 可修改文件内容 | 可以在目录中创建、删除文件 |
| 执行权限 | x        | 可执行该文件   | 可以进入目录               |

![image-20230323174808535](E:\personal\CSLibrary\09_Linux\imgs\image-20230323174808535.png)

![image-20230327111002518](E:\personal\CSLibrary\09_Linux\imgs\image-20230327111002518.png)

第一个字符解析：

| 字符 | 含义                                                         |
| ---- | ------------------------------------------------------------ |
| d    | 目录                                                         |
| -    | 文件                                                         |
| l    | 链接文档                                                     |
| b    | 装置文件里面的可供储存的接口设备（可随机存取装置）           |
| c    | 装置文件里面的串行端口设备，例如键盘、鼠标（一次性读取装置） |

接下来的字符中，三个为一组，且均为rwx三个参数的组合，其中'r'代表可读；'w'代表可写；'x'代表可执行。三个权限的位置不会改变，如果没有权限，就会出现减号'-'而已。

| 权限所有者   | 含义                                          |
| ------------ | --------------------------------------------- |
| 属主权限     | 该文件的所有者拥有该文件的权限                |
| 属组权限     | 该文件所有者的<u>同组用户</u>拥有该文件的权限 |
| 其他用户权限 | 其他用户..                                    |

注意：

- '-rwxrwxrwx'为权限最开放的777
- 对root用户来说，一般情况下文件的权限对其不起作用

权限顺序：所属用户的权限、组群权限、其他用户的权限

### chmod 更改文件的九个属性

两种设置方法：数字和符号

#### 1.数字类型改变文件权限

各权限分数：r-4；w-2；x-1

举例：-rwxr-----分数为

owner=rwx=4+2+1=7

group=r--=4+0+0=4

others=---=0+0+0=0

为740

语法：

```shell
chmod [-R] xyz <文件或目录>
chomd 740 dir
```

#### 2.符号类型改变文件权限

![image-20230327112318419](E:\personal\CSLibrary\09_Linux\imgs\image-20230327112318419.png)

![image-20230323175025304](E:\personal\CSLibrary\09_Linux\imgs\image-20230323175025304.png)

### chgrp 变更文件或目录的所有者

语法：

```shell
chgrp [-R] <属组名> <文件名>
```

参数：

-R 递归更改文件属组

![image-20230323175448522](C:\Users\5109U25854\AppData\Roaming\Typora\typora-user-images\image-20230323175448522.png)

### chown 更改文件属主，也可以同时更改文件属组

语法：

```shell
chown [-R] <属主名> <文件名>
chown [-R] <属主名>: <属组名> <文件名>
```

![image-20230327111815945](E:\personal\CSLibrary\09_Linux\imgs\image-20230327111815945.png)

![image-20230327111827872](E:\personal\CSLibrary\09_Linux\imgs\image-20230327111827872.png)

## 用户与用户组管理

见Linux-用户与用户组管理

## 用户切换

### su 将用户切换为root

su -usemame
需要注意。以上的“-”为一个选顶，类似于”-l“，选顶与用户名之间应有一个空格

- 使用su命令切換用户时。需要蝓入的是目标用户的密码
- 选项与用户名缺省的情况下，只切换用户，但不改变用户环境
- 由root用户切换到具它用户，可以不输入密码。
- 在命令行输入"exit"或“su -user",可退出目标用户。

### sudo

sudo [选项] -u 用户[命令]

说明：

- sudo命令可以视为受限的su，它可以使部分"用户使其它用户的身份执行命令。

- 在使用sudo命令之前，需要通过修改/etc/sudoers文件，为当前用户配置要使用的权限。

- /etc/sudoers文件有一定的语法规范，为避免因修改后出现语法谄误，应使用visudo命令打开文件进行修改，

- 如下所示为/etc/sudoers文件中的一条配置信息，该信息设置了root用户可能任何情境下执行任何命令。

  ```
  root	ALL=(ALL)	ALL
  ```

# 网络管理与通信

## ifconfig 查看网卡

```shell
ifconfig -a
```

![image-20230322161152241](E:\personal\CSLibrary\09_Linux\imgs\image-20230322161152241.png)

eth0用于访问外部网络，默认情况下关闭

lo网卡用实现本机内部访问，IP地址为127.0.0.1（本机回送地址）

## netstat

## ping

## write 使当前用户向另一个用户发送信息

## wall 使当前用户向所有用户发送信息

# 压缩解压

## gzip/gunzip 

.gz 压缩后不保存源文件，若同时列出多个文件，则每个文件会被单独压缩

## zip/unzip

.zip 压缩后保存源文件

## bzip2/bunzip2

.bz2 使用选项 -k时保留源文件

## tar

打包多个文件或目录，通常与压缩命令一起使用

-c 产生.tar打包文件

-v 打包时显示详细信息

-f 指定压缩后的文件名

-z 打包，同时通过gzip指令压缩备份文件，压缩后格式为.tar.gz

-x 从打包文件中还原文件

![image-20230323180324490](E:\personal\CSLibrary\09_Linux\imgs\image-20230323180324490.png)

# 帮助命令

## man 查看帮助手册

-a 在所有的man帮助手册中搜索

-p 指定内容时，使用分页程序

-M 指定man手册搜索的路径

## info 也是查看帮助手册，编写方式不一样

## whatis  查询命令的功能

## whoami 打印当前有效的用户名称
