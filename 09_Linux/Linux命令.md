# 命令格式

```
command -shortoption parameter
command --longoption parameter
```

比如：

```
$rm -r dir
rm --recursive dir
```

注意：使用短选项时可以将多个选项合并

# 文件操作

## 路径操作

### cd 切换路径

切换到相对路径

```
cd ./xxx
```

切换到绝对路径

```
cd /xxx
```

切换到当前用户的家目录

```
cd ~
```

### pwd 查看当前路径

### mkdir 创建路径 

### rmdir 删除目录 

## 文件操作

### ls 查看文件 

-a 查看包括隐藏文件在内的所有文件![image-20230323145108477](E:\personal\CSLibrary\09_Linux\imgs\image-20230323145108477.png)

-l 以详细信息列出文件，可指定文件名

![image-20230323145224018](E:\personal\CSLibrary\09_Linux\imgs\image-20230323145224018.png)

![image-20230323145300447](E:\personal\CSLibrary\09_Linux\imgs\image-20230323145300447.png)

### cat 打印文件内容到输出设备 

### more 分页显示文件内容 

f/Space 显示下一页

Enter 显示下一行

q/Q 退出

### head 查看文件的前n行 

![image-20230323174303049](E:\personal\CSLibrary\09_Linux\imgs\image-20230323174303049.png)

### tail 查看文件的后n行 

![image-20230323174446751](E:\personal\CSLibrary\09_Linux\imgs\image-20230323174446751.png)

### touch 创建新文件 

## 文件路径操作

### cp 复制文件/目录

-r 递归复制目录下的文件和子目录

### mv 移动文件或目录 

### rm 删除目录中的文件或目录 

-f 强制删除文件或目录

-r 递归删除目录中所有子文件和子目录

-i 在删除文件或目录时对要删除的内容逐一进行确认

## 文件搜索

### which 查看命令所在路径

![image-20230323175613953](E:\personal\CSLibrary\09_Linux\imgs\image-20230323175613953.png)

### find 接触搜索关键字查找文件或目录

find 搜索路径 [选项] 搜索关键字

-name 根据文件名查找

-size 根据文件大小查找

-user 根据文件所有者查找

### locate 借助搜索关键字查找文件或目录

locate [选项] 搜索关键字

locate速度远胜find

find搜索整个目录，locate搜索数据库 /var/lib/locatedb

即使文件存在，数据库中没有记录，locate便搜索不到

### grep 在文件中搜索与字符串匹配的行并输出

![image-20230323175911567](E:\personal\CSLibrary\09_Linux\imgs\image-20230323175911567.png)

# 权限与用户/用户组管理

## 权限管理

权限分类

| 权限     | 对应字符 | 文件           | 目录                       |
| -------- | -------- | -------------- | -------------------------- |
| 读权限   | r        | 可查看文件内容 | 可以列出目录中的内容       |
| 写权限   | w        | 可修改文件内容 | 可以在目录中创建、删除文件 |
| 执行权限 | x        | 可执行该文件   | 可以进入目录               |

![image-20230323174808535](E:\personal\CSLibrary\09_Linux\imgs\image-20230323174808535.png)

-rwxrwxrwx为权限最开放的777

权限顺序：所属用户的权限、组群权限、其他用户的权限

### chmod 变更文件或目录的权限

![image-20230323175025304](E:\personal\CSLibrary\09_Linux\imgs\image-20230323175025304.png)

### chgrp 变更文件或目录的所有者

![image-20230323175448522](C:\Users\5109U25854\AppData\Roaming\Typora\typora-user-images\image-20230323175448522.png)

## 用户管理

### useradd 添加用户

| 选项 | 说明                                                   |
| ---- | ------------------------------------------------------ |
| -d   | 指定用户登入时的目录                                   |
| -c   | 指定账户的备注文字                                     |
| -e   | 指定账号的有效期限                                     |
| -f   | 缓冲天数．密码过期时在指定天数后关闭该账号             |
| -g   | 指定用户所属组                                         |
| -G   | 指定用户所属的附加用户组                               |
| -m   | 自动建立用户的登入目录                                 |
| -r   | 创建系统账号                                           |
| -s   | 指定用户的登陆shell                                    |
| -u   | 指定用户的用户ID。若添加0选项、则用剜D可与其它用户重复 |

1-499为系统用户IP，用户IP应取500-60000之间的数值
可通过自看/etc/passwd文件，查看已存在的用户
创建账号的用户需有创建账号的权限

### passwd 设置用户的认证信息

包括用户密码，密码有效期等

| 选项 | 说明                                                 |
| ---- | ---------------------------------------------------- |
| -l   | 锁定密码，锁定后密码失效，无法登陆（新用户默认锁定） |
| -d   | 删除密码．仅系统管理员可使用                         |
| -S   | 列出密码相关信息，仅系统管理员可使用                 |
| -f   | 强行执行                                             |

root用户可随意更改密码，即便出现警告，也可成功保存

普通用户在设首密码时应尽量复杂，避免与用户名相同

修改当前登录账户的密码时，可缺省用户名

用户密码保存在/etc/shadow文件中

### userdel 删除指定账户和账户相关的文件和信息

| 选项 | 说明                                     |
| ---- | ---------------------------------------- |
| -f   | 强制删除用户，即便该用户为当前用户       |
| -r   | 删除用户的同时，删除与用户相关的所有文件 |

### usdermod 修改用户账号信息

| 选项 | 说明                                         |
| ---- | -------------------------------------------- |
| -c   | 修改用户账号的备注信息                       |
| -d   | 修改用户的登入目录                           |
| -e   | 修改账号的有效期限                           |
| -f   | 修改缓冲天数，即修改密码过期后关闭账号的时间 |
| -g   | 修改用户所属组                               |
| -l   | 修改用户账号名称                             |
| -L   | 锁定用户密码，使密码失效                     |
| -s   | 修改用户登陆后使用的shell                    |
| -u   | 修改用户ID                                   |
| -U   | 解除密码锁定                                 |

## 用户组管理

每个用户都有一个用户组，若在创建账户时未指定，那么系统会以用户账号名作为该用户的用户组，并将与该账号同名的用户组同步到/etc/group文件中。

### groupadd

| 选项 | 说明                                |
| ---- | ----------------------------------- |
| -g   | 指定新建用户组的组ID                |
| -r   | 创建系统用户组，组ID取值范围为1-499 |
| -o   | 允许创建组ID已存在的用户组          |

### groupdel

## 修改用户组属性

若用户被创建时没有指定用户组，系统会为用户创建一个与用户名相同的组，这个组就是基本组，若在某个用户的目录中创建文件。文件的所属组，就是用户的基本组；另外可以为用户指定附加组，除基本组之外，用户所在的组都是附加组。为用户指定附加组，可以使用户拥有对应组的权限。

可以用之前作用于用户的命令。

#### newgrp 切換用户组

## 用户切换

### su 将用户切换为root

su -usemame
需要注意。以上的“-”为一个选顶，类似于”-l“，选顶与用户名之间应有一个空格

- 使用su命令切換用户时。需要蝓入的是目标用户的密码
- 选项与用户名缺省的情况下，只切换用户，但不改变用户环境
- 由root用户切换到具它用户，可以不输入密码。
- 在命令行输入"exit"或“su -user",可退出目标用户。

### sudo

sudo [选项] -u 用户[命令]

说明：

- sudo命令可以视为受限的su，它可以使部分"用户使其它用户的身份执行命令。

- 在使用sudo命令之前，需要通过修改/etc/sudoers文件，为当前用户配置要使用的权限。

- /etc/sudoers文件有一定的语法规范，为避免因修改后出现语法谄误，应使用visudo命令打开文件进行修改，

- 如下所示为/etc/sudoers文件中的一条配置信息，该信息设置了root用户可能任何情境下执行任何命令。

  ```
  root	ALL=(ALL)	ALL
  ```

# 网络管理与通信

## ifconfig 查看网卡

```shell
ifconfig -a
```

![image-20230322161152241](E:\personal\CSLibrary\09_Linux\imgs\image-20230322161152241.png)

eth0用于访问外部网络，默认情况下关闭

lo网卡用实现本机内部访问，IP地址为127.0.0.1（本机回送地址）

## netstat

## ping

## write 使当前用户向另一个用户发送信息

## wall 使当前用户向所有用户发送信息

# 压缩解压

## gzip/gunzip 

.gz 压缩后不保存源文件，若同时列出多个文件，则每个文件会被单独压缩

## zip/unzip

.zip 压缩后保存源文件

## bzip2/bunzip2

.bz2 使用选项 -k时保留源文件

## tar

打包多个文件或目录，通常与压缩命令一起使用

-c 产生.tar打包文件

-v 打包时显示详细信息

-f 指定压缩后的文件名

-z 打包，同时通过gzip指令压缩备份文件，压缩后格式为.tar.gz

-x 从打包文件中还原文件

![image-20230323180324490](E:\personal\CSLibrary\09_Linux\imgs\image-20230323180324490.png)

# 帮助命令

## man 查看帮助手册

-a 在所有的man帮助手册中搜索

-p 指定内容时，使用分页程序

-M 指定man手册搜索的路径

## info 也是查看帮助手册，编写方式不一样

## whatis  查询命令的功能

## whoami 打印当前有效的用户名称
